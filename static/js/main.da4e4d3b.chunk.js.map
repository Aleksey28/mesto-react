{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/constants.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","logo","className","href","src","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","_id","owner","type","onClick","link","name","cn","like__btn_active","likes","some","item","title","reduce","res","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","React","avatar","about","map","Footer","Date","getFullYear","PopupWithForm","isOpen","isLoad","onClose","onSubmit","submitStates","children","noValidate","loading","static","ImagePopup","propsPopupWithAddForm","propsPopupWithEditForm","propsPopupWithEditAvatarForm","propsPopupWithConfirmForm","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","value","placeholder","minLength","maxLength","required","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","apiObject","baseUrl","headers","this","_baseUrl","_headers","relativePath","method","body","options","fetch","response","json","ok","Promise","reject","status","message","_getProxy","_handleResponse","JSON","stringify","like","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmOpen","setIsConfirmOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getCardList","then","data","catch","error","console","log","getUserData","closeAllPopups","Provider","importedLogo","isLiked","toggleCardLike","newCard","newCards","deleteCard","filter","addCard","setUserData","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da4e4d3b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.ff16f24b.svg\";","export default function Header({ logo }) {\n  return (\n    <header className=\"header\">\n      <a href=\"#0\">\n        <img src={logo} alt=\"Логотип страницы Место.\" className=\"header__logo\" />\n      </a>\n    </header>\n  );\n}\n","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\nimport cn from 'classnames';\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const handleClick = () => {\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleClickLike = () => {\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleClickDelete = () => {\r\n    onCardDelete(card);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      {currentUser._id === card.owner._id && (\r\n        <button className=\"card__btn card__btn_action_trush\" type=\"button\" onClick={handleClickDelete}></button>\r\n      )}\r\n\r\n      <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick} />\r\n      <div className=\"card__footer\">\r\n        <h3 className=\"card__caption\">{card.name}</h3>\r\n        <div className=\"like card__like\">\r\n          <button\r\n            className={cn('like__btn', { like__btn_active: card.likes.some((item) => item._id === currentUser._id) })}\r\n            onClick={handleClickLike}\r\n            type=\"button\"\r\n          ></button>\r\n          <p className=\"like__count\" title={card.likes.reduce((res, item) => (res += `${item.name}\\n`), '')}>\r\n            {card.likes.length}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Card from './Card';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  cards,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__btn profile__btn_action_edit-avatar\" onClick={onEditAvatar}>\r\n          <img src={currentUser.avatar} alt=\"Аватар.\" className=\"profile__avatar\" />\r\n          <span className=\"profile__avatar-overlay\"></span>\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__btn profile__btn_action_edit\" type=\"button\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__btn profile__btn_action_add\" type=\"button\" onClick={onAddPlace}></button>\r\n      </section>\r\n      <section>\r\n        <ul className=\"cards\">\r\n          {cards.map((item) => {\r\n            return (\r\n              <Card\r\n                card={item}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                key={item._id}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">@ {new Date().getFullYear()} Попов Алексей</p>\n    </footer>\n  );\n}\n","export default function PopupWithForm({ title, name, isOpen, isLoad, onClose, onSubmit, submitStates, children }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} name={name}>\r\n      <form className=\"popup__container popup__container_type_form\" name=\"container\" noValidate onSubmit={onSubmit}>\r\n        <button className=\"popup__btn popup__btn_action_close\" type=\"button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        {children}\r\n        <button className=\"popup__btn popup__btn_action_submit\" type=\"submit\">\r\n          {!isLoad ? submitStates.static : submitStates.loading}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","export default function ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div className={`popup popup_type_show ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__container_type_show\">\n        <button className=\"popup__btn popup__btn_action_close\" type=\"button\" onClick={onClose}></button>\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\n        <h3 className=\"popup__caption\">{card.name}</h3>\n      </div>\n    </div>\n  );\n}\n","export const propsPopupWithAddForm = {\n  title: 'Новое место',\n  name: 'add',\n  submitStates: {\n    static: 'Создать',\n    loading: 'Создание...',\n  },\n};\nexport const propsPopupWithEditForm = {\n  title: 'Редактировать профиль',\n  name: 'edit',\n  submitStates: {\n    static: 'Сохранить',\n    loading: 'Сохранение...',\n  },\n};\nexport const propsPopupWithEditAvatarForm = {\n  title: 'Обновить аватар',\n  name: 'edit-avatar',\n  submitStates: {\n    static: 'Сохранить',\n    loading: 'Сохранение...',\n  },\n};\nexport const propsPopupWithConfirmForm = {\n  title: 'Вы уверены?',\n  name: 'confirm',\n  submitStates: {\n    static: 'Да',\n    loading: 'Удаление...',\n  },\n};\n\nexport const validationSettings = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__btn_action_submit',\n  inactiveButtonClass: 'popup__btn__disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error_visible',\n};\n\nexport const apiSettings = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: 'fcd9a632-5cad-436c-b58e-4c80d498006a',\n    'Content-Type': 'application/json',\n  },\n};\n","import { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { propsPopupWithEditForm } from '../utils/constants.js';\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    if (!!currentUser.name && !!currentUser.about) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const handleChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const handleChangeDescription = (evt) => {\r\n    setDescription(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithEditForm.title}\r\n      name={propsPopupWithEditForm.name}\r\n      submitStates={propsPopupWithEditForm.submitStates}\r\n      isOpen={isOpen}\r\n      isLoad={false}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        name=\"name\"\r\n        id=\"edit-name-input\"\r\n        value={name}\r\n        placeholder=\"Заголовок профиля\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__error\" id=\"edit-name-input-error\"></span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_about\"\r\n        name=\"about\"\r\n        id=\"about-input\"\r\n        value={description}\r\n        placeholder=\"Описание профиля\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className=\"popup__error\" id=\"about-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { propsPopupWithEditAvatarForm } from '../utils/constants.js';\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = useRef();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      link: avatarRef.current.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithEditAvatarForm.title}\r\n      name={propsPopupWithEditAvatarForm.name}\r\n      submitStates={propsPopupWithEditAvatarForm.submitStates}\r\n      isOpen={isOpen}\r\n      isLoad={false}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        ref={avatarRef}\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        name=\"link\"\r\n        id=\"link-input-edit\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span className=\"popup__error\" id=\"link-input-edit-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { propsPopupWithAddForm } from '../utils/constants.js';\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const handleChangeName = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const handleChangeLink = (evt) => {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={propsPopupWithAddForm.title}\r\n      name={propsPopupWithAddForm.name}\r\n      submitStates={propsPopupWithAddForm.submitStates}\r\n      isOpen={isOpen}\r\n      isLoad={false}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        name=\"name\"\r\n        id=\"add-name-input\"\r\n        value={name}\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__error\" id=\"add-name-input-error\"></span>\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_link\"\r\n        name=\"link\"\r\n        id=\"link-input-add\"\r\n        value={link}\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span className=\"popup__error\" id=\"link-input-add-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { apiSettings } from './constants.js';\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getProxy(relativePath, method, body = '') {\r\n    const options = {\r\n      method,\r\n      headers: this._headers,\r\n    };\r\n\r\n    if (!!body) {\r\n      options.body = body;\r\n    }\r\n\r\n    return fetch(`${this._baseUrl}${relativePath}`, options);\r\n  }\r\n\r\n  async _handleResponse(response) {\r\n    const description = await response.json();\r\n\r\n    if (response.ok) {\r\n      return description;\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${response.status}\\nОписание: ${description.message}`);\r\n    }\r\n  }\r\n\r\n  async getUserData() {\r\n    const response = await this._getProxy('/users/me', 'GET');\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async setUserData({ name, about }) {\r\n    const response = await this._getProxy('/users/me', 'PATCH', JSON.stringify({ name, about }));\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async setAvatar({ link }) {\r\n    const response = await this._getProxy('/users/me/avatar', 'PATCH', JSON.stringify({ avatar: link }));\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async getCardList() {\r\n    const response = await this._getProxy('/cards', 'GET');\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async addCard({ name, link }) {\r\n    const response = await this._getProxy('/cards', 'POST', JSON.stringify({ name, link }));\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async deleteCard(id) {\r\n    const response = await this._getProxy(`/cards/${id}`, 'DELETE');\r\n    return await this._handleResponse(response);\r\n  }\r\n\r\n  async toggleCardLike(id, like) {\r\n    const response = await this._getProxy(`/cards/likes/${id}`, like ? 'PUT' : 'DELETE');\r\n    return await this._handleResponse(response);\r\n  }\r\n}\r\n\r\nexport const apiObject = new Api(apiSettings);\r\n","import React from 'react';\r\nimport importedLogo from '../images/header-logo.svg';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport { propsPopupWithConfirmForm } from '../utils/constants.js';\r\nimport { apiObject } from '../utils/api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isConfirmOpen, setIsConfirmOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  //Загружаем данные карточек один раз при сборке\r\n  React.useEffect(() => {\r\n    apiObject\r\n      .getCardList()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    apiObject\r\n      .getUserData()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch(console.log);\r\n  }, []);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n  const handleCardClick = (card) => {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  };\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsConfirmOpen(false);\r\n    setIsImagePopupOpen(false);\r\n  };\r\n\r\n  const handleUpdateUser = (data) => {\r\n    apiObject\r\n      .setUserData(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  const handleUpdateAvatar = (data) => {\r\n    apiObject\r\n      .setAvatar(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  //функция обработчик установки/снятия лайка\r\n  const handleCardLike = (card) => {\r\n    //Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n\r\n    //Отправляем запрос в API и получаем обновленные данные карточки\r\n    apiObject\r\n      .toggleCardLike(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        //формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((item) => (item._id === card._id ? newCard : item));\r\n\r\n        //обновляем стейт\r\n        setCards(newCards);\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  //функция обработчик удаления карточки\r\n  const handleCardDelete = (card) => {\r\n    apiObject\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((item) => item._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  const handleAddPlace = (card) => {\r\n    apiObject\r\n      .addCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header logo={importedLogo} />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          cards={cards}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />\r\n\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n        {/* Popup for open form to confirm action */}\r\n        <PopupWithForm\r\n          title={propsPopupWithConfirmForm.title}\r\n          name={propsPopupWithConfirmForm.name}\r\n          submitStates={propsPopupWithConfirmForm.submitStates}\r\n          isOpen={isConfirmOpen}\r\n          isLoad={false}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        {/* Popup which shows full image*/}\r\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}